<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:mvc="http://www.springframework.org/schema/mvc"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">


    <!-- 配置Shiro的 WebSecurityManager -->
    <bean id="webSecurityManager" class="com.magicli.shiro.WebIniSecurityManagerFactoryBean"/>
    <bean id="filterChainResolver" class="com.magicli.shiro.FilterChainResolverFactoryBean"/>

    <!-- 此处配置在容器关闭是，会销毁pring容器，进而调用这个bean的destroy方法 -->
    <bean id="shiroSecurityManagerDestoryBean" class="com.magicli.shiro.ShiroSecurityManagerDestoryBean"
          destroy-method="destroy"/>

    <!-- 配置shiroFilter -->
    <bean id="shiroFilter" class="com.magicli.shiro.MyShiroFilterFactoryBean">
        <property name="webSecurityManager" ref="webSecurityManager"/>
        <property name="filterChainResolver" ref="filterChainResolver"/>
    </bean>


</beans>